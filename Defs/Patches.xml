<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <YADA.PatchDef>
    <!-- simple devmode patch, toggleable in debug settings, default off -->
    <defName>YADA_disableAutomaticUndraft</defName>
    <label>Disable automatic undraft</label>

    <className>AutoUndrafter</className>
    <methodName>ShouldAutoUndraft</methodName>
    <postfix>
      <setResult>false</setResult>
    </postfix>

    <debugSettingsCheckbox/>
  </YADA.PatchDef>

  <!-- hardcore :) -->
  <YADA.PatchDef>
    <defName>YADA_freezeNeedsAtMax</defName>
    <label>Freeze needs at max</label>

    <className>Need</className>
    <methodName>get_CurLevel</methodName>
    <postfix>
      <arguments>
        <li>ref __result</li>
        <li>__instance</li>
      </arguments>
      <opcodes>
        <!-- checkbox code is added automagically -->
        <li>Ldarg_0</li>
        <li>Ldarg_1</li>
        <li>Callvirt RimWorld.Need::get_MaxLevel</li>
        <li>Stind_R4</li>
        <!-- ret is added automagically -->
      </opcodes>
    </postfix>

    <debugSettingsCheckbox/>
  </YADA.PatchDef>

  <!-- added all possible tags here, just for example -->
  <YADA.PatchDef>
    <defName>YADA_freezeNeedsAtHalf</defName>
    <label>Freeze needs at 0.5</label>

    <enabled>false</enabled>

    <HarmonyPriority>555</HarmonyPriority>
    <HarmonyAfter>
      <li>foo</li>
      <li>bar</li>
      <li>baz</li>
    </HarmonyAfter>
    <HarmonyBefore>
      <li>foo</li>
      <li>bar</li>
      <li>baz</li>
    </HarmonyBefore>

    <className>Need</className>
    <methodName>get_CurLevel</methodName>
    <prefix>
      <setResult>0.5</setResult>
      <skipOriginal>true</skipOriginal>
    </prefix>
    <postfix>
      <setResult>0.5</setResult>
    </postfix>

    <debugSettingsCheckbox>
      <defaultValue>false</defaultValue>
      <category>YADA</category>
    </debugSettingsCheckbox>
  </YADA.PatchDef>
</Defs>
